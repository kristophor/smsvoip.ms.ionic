{"version":3,"sources":["../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/messages/messages.ts","../../src/pages/contact-picker/contact-picker.ts","../../src/pages/message/message.ts","../../src/services/proxy-service.ts","../../src/services/voip-service.ts","../../src/pages/settings/settings.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/model/sms.ts","../../src/model/chat-item.ts","../../src/model/credential.ts","../../src/services/setting-service.ts","../../src/services/chat-service.ts"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;;;;;;;;;;;;;;;;;;;ACVwC;AACqB;AACM;AACpB;AACG;AACM;AACM;AAM9D,IAAa,YAAY;IAOrB,sBAAmB,OAAsB,EAAS,SAA0B,EAAU,WAAwB,EAC1F,WAA2B;QAD5B,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAU,gBAAW,GAAX,WAAW,CAAa;QAC1F,gBAAW,GAAX,WAAW,CAAgB;IAC/C,CAAC;IAED,kCAAW,GAAX;QACI,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;IAClC,CAAC;IAED,uCAAgB,GAAhB;QAAA,iBAeC;QAdG,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,IAAI,IAAI,IAAI,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,UAAU,IAAI,IAAI,CAAC,CAAC,CAAC;YACxF,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;YACxB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,SAAS,CACzD,UAAC,IAAI;gBACD,KAAI,CAAC,SAAS,EAAE,CAAC;gBACjB,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,WAAW,CAAC,UAAU,CAAC,UAAU,CAAC;YAC7D,CAAC,CACJ,CAAC;QACN,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,UAAU,CAAC;QAC7D,CAAC;IACL,CAAC;IAED,gCAAS,GAAT;QAAA,iBAKC;QAJG,IAAI,CAAC,WAAW,CAAC,uBAAuB,EAAE,CAAC,IAAI,CAC3C,cAAI,IAAI,YAAI,CAAC,QAAQ,GAAG,IAAI,EAApB,CAAoB,EAC5B,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAC9B;IACL,CAAC;IAED,qCAAc,GAAd;QACI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,wEAAY,CAAC,CAAC;IACpC,CAAC;IAED,mCAAY,GAAZ;QAAA,iBAYC;QAXG,IAAI,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,yFAAiB,CAAC,CAAC;QAClE,kBAAkB,CAAC,OAAO,EAAE,CAAC;QAC7B,kBAAkB,CAAC,YAAY,CAC3B,cAAI;YACA,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACP,KAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC3C,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;gBAChD,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,qEAAW,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YACjD,CAAC;QACL,CAAC,CACJ;IACL,CAAC;IAED,6BAAM,GAAN,UAAO,OAAO;QACV,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;QAC/C,GAAG,CAAC,CAAa,UAAa,EAAb,SAAI,CAAC,QAAQ,EAAb,cAAa,EAAb,IAAa;YAAzB,IAAI,IAAI;YACT,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,OAAO,CAAC,CAAC,CAAC;gBACxB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;YACzD,CAAC;SACJ;IACL,CAAC;IAED,iCAAU,GAAV,UAAW,OAAO;QACd,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,qEAAW,EAAE,OAAO,CAAC,CAAC;IAC5C,CAAC;IAED,gCAAS,GAAT,UAAU,SAAS;QAAnB,iBAMC;QALG,UAAU,CAAC;YAEP,KAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;QAEtC,CAAC,EAAE,IAAI,CAAC,CAAC;IACb,CAAC;IAED,wCAAiB,GAAjB,UAAkB,SAAS;QAEvB,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;IACpC,CAAC;IACL,mBAAC;AAAD,CAAC;AAlFY,YAAY;IAJxB,wEAAS,CAAC;QACP,QAAQ,EAAE,eAAe;OACG;KAC/B,CAAC;iBASiD;AA0ElD;SAlFY,UAAY;;;;;;;;;;;;;;;;;;;;;ACZiB;AAC6B;AAOvE,IAAa,iBAAiB;IAE5B,2BAAmB,OAAsB,EAAS,SAAoB,EAAS,QAAwB;QAApF,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,aAAQ,GAAR,QAAQ,CAAgB;IACvG,CAAC;IAED,oCAAQ,GAAR,UAAS,IAAY;QACnB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,EAAC,CAAC,CAAC;IACvD,CAAC;IAED,oCAAQ,GAAR;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IAEH,wBAAC;AAAD,CAAC;AAbY,iBAAiB;IAJ7B,wEAAS,CAAC;QACT,QAAQ,EAAE,qBAAqB;OACG;KACnC,CAAC;sBAGuG;AAWxG;SAbY,iBAAiB,gB;;;;;;;;;;;;;;;;;;;;;;;;;ACRqB;AACuB;AAClC;AACJ;AAEoB;AACA;AACM;AAM9D,IAAa,WAAW;IAMpB,qBAAmB,OAAsB,EAAS,SAAoB,EAAS,QAAkB,EAAU,WAAwB,EAC/G,WAAwB,EAAU,GAAa,EAAU,cAA8B;QAD3G,iBAgBC;QAhBkB,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,aAAQ,GAAR,QAAQ,CAAU;QAAU,gBAAW,GAAX,WAAW,CAAa;QAC/G,gBAAW,GAAX,WAAW,CAAa;QAAU,QAAG,GAAH,GAAG,CAAU;QAAU,mBAAc,GAAd,cAAc,CAAgB;QACvG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;QACnC,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,CAAC;QACjC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,UAAU,CAAC;QAC5D,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CACjD,UAAC,IAAI;YACD,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC;gBAAC,KAAI,CAAC,IAAI,GAAG,EAAE;YAChC,IAAI;gBACA,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACzB,CAAC,EACD,UAAC,KAAK;YACF,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACvB,CAAC,CACJ,CAAC;QACF,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;IAC7B,CAAC;IAED,sCAAgB,GAAhB;QACI,IAAI,CAAC,cAAc,EAAE,CAAC;IAC1B,CAAC;IAED,oCAAc,GAAd;QAAA,iBAIC;QAHG,UAAU,CAAC;YACP,KAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;QAClC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,8BAAQ,GAAR,UAAS,IAAY;QAArB,iBAmDC;QAlDG,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACxB,IAAI,MAAM,GAAG,IAAI,uDAAG,EAAE,CAAC;QACvB,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;QACpC,MAAM,CAAC,IAAI,GAAG,YAAY,CAAC;QAC3B,MAAM,CAAC,IAAI,GAAG,GAAG,CAAC;QAClB,IAAI,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;QACrC,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAC9C,IAAI,cAAc,GAAG,OAAO,CAAC,IAAI,CAAC;QAClC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACrB,cAAc,GAAG,cAAc,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;QACrD,CAAC;QACD,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;QAC1C,IAAI,UAAU,GAAG,IAAI,uDAAG,EAAE,CAAC;QAC3B,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,qBAAqB,CAAC,CAAC;QAChF,CAAC;QACD,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,qBAAqB,CAAC,CAAC;QAC7E,UAAU,CAAC,IAAI,GAAG,GAAG,CAAC;QACtB,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,QAAQ,IAAI,MAAM,CAAC,CAAC,CAAC;YAClC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC9B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC/B,CAAC;QACD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACvB,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,CAChE,UAAC,GAAG;YACA,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;YACtB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,KAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,KAAI,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,SAAS,CAC7D,UAAC,QAAQ;gBACL,IAAI,KAAK,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;gBAC5B,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,SAAS,CAAC,CAAC,CAAC;oBAC5B,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;oBACnB,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;oBAChC,KAAI,CAAC,IAAI,GAAG,YAAY,CAAC;oBACzB,KAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,KAAI,CAAC,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,CAAC;oBAC3D,KAAI,CAAC,cAAc,EAAE,CAAC;gBAC1B,CAAC;YACL,CAAC,EACD,UAAC,KAAK;gBACF,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACnB,KAAI,CAAC,IAAI,GAAG,YAAY,CAAC;YAC7B,CAAC,CACJ,CAAC;QACN,CAAC,EACD,UAAC,KAAK;YACF,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,KAAI,CAAC,IAAI,GAAG,YAAY,CAAC;QAC7B,CAAC,CACJ,CAAC;QACF,IAAI,CAAC,KAAK,EAAE,CAAC;IACjB,CAAC;IAED,qCAAe,GAAf,UAAgB,SAAS;QAAzB,iBAsBC;QArBG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,SAAS,CACvD,UAAC,QAAQ;YACL,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;YAC3B,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,SAAS,CAAC,CAAC,CAAC;gBAC3B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACtB,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC;gBAC/B,IAAI,UAAU,GAAG,IAAI,uDAAG,EAAE,CAAC;gBAC3B,UAAU,CAAC,OAAO,GAAG,KAAI,CAAC,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC;gBAC7D,UAAU,CAAC,IAAI,GAAG,KAAI,CAAC,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC;gBACvD,UAAU,CAAC,IAAI,GAAG,GAAG,CAAC;gBACtB,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBAC3B,KAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,KAAI,CAAC,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,CAAC;gBAC3D,KAAI,CAAC,cAAc,EAAE,CAAC;YAC1B,CAAC;YACD,SAAS,CAAC,QAAQ,EAAE,CAAC;QACzB,CAAC,EACD,UAAC,KAAK;YACF,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,SAAS,CAAC,QAAQ,EAAE,CAAC;QACzB,CAAC,CACJ,CAAC;IACN,CAAC;IAED,gDAA0B,GAA1B,UAA2B,SAAS;QAApC,iBA4CC;QA3CG,IAAI,YAAY,GAAG,KAAK,CAAC;QACzB,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAE9C,IAAI,cAAc,GAAG,OAAO,CAAC,IAAI,CAAC;QAClC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACrB,cAAc,GAAG,cAAc,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;QACrD,CAAC;QACD,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;QAC1C,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC,SAAS,CACjE,UAAC,QAAQ;YACL,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,EAAE,CAAC;YAC3B,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,SAAS,CAAC,CAAC,CAAC;gBAC3B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACtB,GAAG,CAAC,CAAY,UAAkB,EAAlB,SAAI,CAAC,GAAG,CAAC,OAAO,EAAE,EAAlB,cAAkB,EAAlB,IAAkB;oBAA7B,IAAI,GAAG;oBACR,IAAI,UAAU,GAAG,GAAG,CAAC,IAAI,CAAC;oBAC1B,EAAE,CAAC,CAAC,KAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;wBACrB,UAAU,GAAG,UAAU,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;oBAC7C,CAAC;oBACD,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;oBACrC,OAAO,CAAC,GAAG,CAAC,YAAY,GAAG,OAAO,GAAG,cAAc,GAAG,QAAQ,CAAC,CAAC;oBAChE,EAAE,CAAC,CAAC,OAAO,IAAI,QAAQ,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,GAAG,CAAC,OAAO,IAAI,OAAO,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBACtF,EAAE,CAAC,CAAC,CAAC,YAAY,IAAI,OAAO,GAAG,QAAQ,IAAI,MAAM,CAAC,CAAC,CAAC;4BAChD,IAAI,UAAU,GAAG,IAAI,uDAAG,EAAE,CAAC;4BAC3B,UAAU,CAAC,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC;4BACjC,UAAU,CAAC,IAAI,GAAG,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,qBAAqB,CAAC,CAAC;4BAC7E,UAAU,CAAC,IAAI,GAAG,GAAG,CAAC;4BACtB,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;4BAC3B,YAAY,GAAG,IAAI,CAAC;wBACxB,CAAC;wBACD,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBACxB,CAAC;iBACJ;gBACD,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;gBACvB,KAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,KAAI,CAAC,OAAO,EAAE,KAAI,CAAC,IAAI,CAAC,CAAC;gBAC3D,KAAI,CAAC,cAAc,EAAE,CAAC;YAC1B,CAAC;YACD,SAAS,CAAC,QAAQ,EAAE,CAAC;QACzB,CAAC,EACD,UAAC,KAAK;YACF,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,SAAS,CAAC,QAAQ,EAAE,CAAC;QACzB,CAAC,CACJ,CAAC;IACN,CAAC;IAED,+BAAS,GAAT,UAAU,SAAS;QAAnB,iBAYC;QAXG,UAAU,CAAC;YAEP,EAAE,CAAC,CAAC,KAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;gBACxB,KAAI,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;YACpC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,CAAC;YAC/C,CAAC;QAEL,CAAC,EAAE,IAAI,CAAC,CAAC;IAGb,CAAC;IACL,kBAAC;AAAD,CAAC;AAtKuB;IAAnB,0EAAS,CAAC,8DAAO,CAAC;kDAAU,8DAAO,oBAAP,8DAAO;4CAAC;AAJ5B,WAAW;IAJvB,wEAAS,CAAC;QACP,QAAQ,EAAE,cAAc;OACG;KAC9B,CAAC;gBAQ6G;AAmK9G;SA1KY,WAAW;;;;;;;;;ACbxB;AAAA;IAAA;IAEA,CAAC;IAAD,mBAAC;AAAD,CAAC;;AADQ,0BAAa,GAAU,EAAE,EAAC,qBAAqB;;;;;;;;;;;;;;;;;;;;;;;ACDf;AACN;AACc;AACJ;AAG7C,IAAa,WAAW;IAEpB,qBAAoB,IAAU,EAAU,cAA8B;QAAlD,SAAI,GAAJ,IAAI,CAAM;QAAU,mBAAc,GAAd,cAAc,CAAgB;IACtE,CAAC;IAED,4BAAM,GAAN;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,IAAI,IAAI,IAAI,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,UAAU,IAAI,IAAI;eACxF,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,UAAU,IAAI,EAAE,CAAC,CAAC,CAAC;YACrD,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;QAC/B,CAAC;IACL,CAAC;IAED,iCAAW,GAAX,UAAY,OAAe,EAAE,WAAmB;QAC5C,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,oEAAY,CAAC,aAAa,GAAG,+BAA+B;YAC7E,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,KAAK,GAAG,gBAAgB;YACvD,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,QAAQ,GAAG,iBAAiB;YAC3D,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,UAAU;YACnD,OAAO,GAAG,WAAW;YACrB,WAAW,GAAG,OAAO,CAAC,CAAC;IAC/B,CAAC;IAED,gCAAU,GAAV,UAAW,KAAa,EAAE,UAAkB,EAAE,QAAgB;QAC1D,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,oEAAY,CAAC,aAAa,GAAG,+BAA+B;YAC7E,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,KAAK,GAAG,gBAAgB;YACvD,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,QAAQ,GAAG,gBAAgB,GAAG,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,UAAU;YAChH,CAAC,UAAU,IAAI,EAAE,GAAG,EAAE,GAAG,WAAW,GAAG,UAAU,CAAC;YAClD,CAAC,QAAQ,IAAI,EAAE,GAAG,EAAE,GAAG,QAAQ,GAAG,QAAQ,CAAC;YAC3C,CAAC,KAAK,IAAI,EAAE,GAAG,EAAE,GAAG,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC;IAC9C,CAAC;IAEL,kBAAC;AAAD,CAAC;AAhCY,WAAW;IADvB,yEAAU,EAAE;qCAGiB,2DAAI,EAA0B,wEAAc;GAF7D,WAAW,CAgCvB;AAhCuB;;;;;;;;;;;;;;;;;;;;;;;;ACNgB;AACgC;AAEV;AACZ;AACM;AAMxD,IAAa,YAAY;IASrB,sBAAmB,OAAsB,EAAS,SAAoB,EAAU,cAA8B,EAAU,QAAqB,EAAU,SAA0B;QAAjL,iBA2BC;QA3BkB,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAU,mBAAc,GAAd,cAAc,CAAgB;QAAU,aAAQ,GAAR,QAAQ,CAAa;QAAU,cAAS,GAAT,SAAS,CAAiB;QAPzK,UAAK,GAAW,EAAE,CAAC;QACnB,aAAQ,GAAW,EAAE,CAAC;QACtB,eAAU,GAAa,EAAE,CAAC;QAG1B,eAAU,GAAe,IAAI,qEAAU,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAGzG,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,cAAc,CAAC,sBAAsB,EAAE,CAAC,IAAI,CAC7C,UAAC,IAAI;gBACD,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;oBACf,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;oBACvB,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC;oBACnC,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;oBACzC,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC;oBACvC,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,UAAU,CAAC;gBACjD,CAAC;YAEL,CAAC,CACJ,CAAC;QACN,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,cAAc,CAAC,oBAAoB,EAAE,CAAC,IAAI,CAC3C,UAAC,IAAI;gBACD,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;oBACf,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBACnC,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC;oBACnC,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;oBACzC,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC;oBACvC,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,UAAU,CAAC;gBACjD,CAAC;YACL,CAAC,CACJ,CAAC;QACN,CAAC;IACL,CAAC;IAED,+BAAQ,GAAR,UAAS,IAAY;QAArB,iBA+BC;QA9BG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;QAC9B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;QACpC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,CAChE,UAAC,IAAI;YACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;YACxC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,MAAM,IAAI,SAAS,CAAC,CAAC,CAAC;gBAClC,IAAM,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAChC,KAAK,EAAE,aAAa;oBACpB,OAAO,EAAE,8BAA8B,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC,MAAM;oBAC5D,OAAO,EAAE,CAAC;4BACN,IAAI,EAAE,IAAI;yBACb,CAAC;iBACL,CAAC,CAAC;gBACH,KAAK,CAAC,OAAO,EAAE,CAAC;YACpB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,UAAU,GAAG,EAAE,CAAC;gBACrB,GAAG,CAAC,CAAY,UAAgB,EAAhB,SAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAhB,cAAgB,EAAhB,IAAgB;oBAA3B,IAAI,GAAG;oBACR,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,EAAE,CAAC,CAAC,GAAG,CAAC,aAAa,IAAI,CAAC,IAAI,GAAG,CAAC,WAAW,IAAI,CAAC,CAAC,CAAC,CAAC;wBACjD,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBAClC,CAAC;iBACJ;gBACD,KAAI,CAAC,UAAU,GAAG,IAAI,qEAAU,CAAC,KAAI,CAAC,KAAK,EAAE,KAAI,CAAC,QAAQ,EAAE,KAAI,CAAC,UAAU,EAAE,KAAI,CAAC,UAAU,CAAC,CAAC;gBAC9F,KAAI,CAAC,cAAc,CAAC,eAAe,CAAC,KAAI,CAAC,UAAU,CAAC,CAAC;YACzD,CAAC;QAEL,CAAC,EACD,UAAC,KAAK,IAAK,cAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAChC,CAAC;IACN,CAAC;IAED,kCAAW,GAAX,UAAY,KAAK;QACb,OAAO,CAAC,GAAG,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC;QACjC,OAAO,CAAC,GAAG,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QAC7C,IAAI,CAAC,UAAU,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QAC7C,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACrD,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC;IAClC,CAAC;IAEL,mBAAC;AAAD,CAAC;AA/EY,YAAY;IAJxB,wEAAS,CAAC;QACP,QAAQ,EAAE,eAAe;OACG;KAC/B,CAAC;iBAUmL;AAsEpL;SA/EY,YAAY;;;;;;;;;;;;ACXkD;AAElC;AAEzC,yGAAsB,EAAE,CAAC,eAAe,CAAC,8DAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJM;AACH;AACkB;AACd;AACN;AAEb;AACgB;AACiB;AACpB;AACM;AACA;AACH;AACf;AACY;AACZ;AACF;AACc;AAE/C;IACJ,MAAM,CAAC,IAAI,gEAAO,CAAC,CAAC,QAAQ,EAAE,QAAQ,EAAE,WAAW,CAAC,CAAC,CAAC;AACxD,CAAC;AAqCD,IAAa,SAAS;IAAtB;IAAwB,CAAC;IAAD,gBAAC;AAAD,CAAC;AAAZ,SAAS;IAnCrB,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,6DAAK;YACL,8EAAY;YACZ,+FAAiB;YACjB,2EAAW;YACX,+EAAY;SACb;QACD,OAAO,EAAE;YACP,gFAAa;YACb,kEAAW,CAAC,OAAO,CAAC,6DAAK,CAAC;YAC1B,kEAAU;SACX;QACD,SAAS,EAAE,CAAC,+DAAQ,CAAC;QACrB,eAAe,EAAE;YACf,6DAAK;YACL,8EAAY;YACZ,+FAAiB;YACjB,2EAAW;YACX,+EAAY;SACb;QACD,SAAS,EAAE;YACT,2EAAS;YACT,iFAAY;YACZ,EAAC,OAAO,EAAE,mEAAY,EAAE,QAAQ,EAAE,wEAAiB,EAAC;YACpD,EAAC,OAAO,EAAE,gEAAO,EAAE,UAAU,EAAE,cAAc,EAAE;YAC/C,mFAAa;YACb,kFAAc;YACd,kEAAU;YACV,4EAAW;YACX,kFAAc;YACd,kEAAQ;YACR,4EAAW;SACZ;KACF,CAAC;GACW,SAAS,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;AC1DkB;AACD;AACY;AACM;AAED;AACG;AACN;AAKrD,IAAa,KAAK;IAGd,eAAY,QAAkB,EAAE,SAAoB,EAAE,YAA0B,EAAU,cAA8B,EAAU,WAAwB;QAA1J,iBASC;QATyF,mBAAc,GAAd,cAAc,CAAgB;QAAU,gBAAW,GAAX,WAAW,CAAa;QAF1J,aAAQ,GAAQ,8EAAY,CAAC;QAGzB,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;YAClB,gEAAgE;YAChE,iEAAiE;YACjE,SAAS,CAAC,YAAY,EAAE,CAAC;YACzB,YAAY,CAAC,IAAI,EAAE,CAAC;YACpB,KAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;YAC3B,KAAI,CAAC,WAAW,CAAC,aAAa,EAAE,CAAC;QACrC,CAAC,CAAC,CAAC;IACP,CAAC;IACL,YAAC;AAAD,CAAC;AAbY,KAAK;IAHjB,wEAAS,CAAC;OACgB;KAC1B,CAAC;UAI4J;AAU7J;SAbY,KAAK,2B;;;;;;;;ACZlB;AAAA;IAAA;IAOA,CAAC;IAAD,UAAC;AAAD,CAAC;;;;;;;;;;ACPD;AAAA;IAKE,kBAAY,KAAa,EAAE,OAAe,EAAE,IAAY;QACtD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACnB,CAAC;IACH,eAAC;AAAD,CAAC;;;;;;;;;;ACVD;AAAA;IAME,oBAAY,KAAa,EAAE,QAAgB,EAAE,UAAkB,EAAE,IAAc;QAC7E,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACnB,CAAC;IACH,iBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;ACZ+E;AACzB;AAEhB;AACJ;AACU;AAG7C,IAAa,cAAc;IAMzB,wBAAoB,OAAsB,EAAU,eAAwB,EACxD,IAAU;QADV,YAAO,GAAP,OAAO,CAAe;QAAU,oBAAe,GAAf,eAAe,CAAS;QACxD,SAAI,GAAJ,IAAI,CAAM;QALvB,wBAAmB,GAAY,KAAK,CAAC;QAErC,qBAAgB,GAAG,IAAI,mEAAY,EAAE,CAAC;IAI7C,CAAC;IAED,6BAAI,GAAJ;QAAA,iBA4BC;QA3BC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,CAClC,UAAC,GAAwB;YACvB,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;YAC/B,KAAI,CAAC,GAAG,GAAG,GAAG,CAAC;YACf,KAAI,CAAC,oBAAoB,EAAE,CAAC,IAAI,CAC9B,UAAC,IAAI;gBACH,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;oBACjB,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBACnC,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACnC,CAAC;YACH,CAAC,EACD,UAAC,GAAG;gBACF,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACnB,CAAC,CAAC,CAAC;QACP,CAAC,EACD,UAAC,KAAK;YACJ,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,KAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;YAChC,KAAI,CAAC,sBAAsB,EAAE,CAAC,IAAI,CAChC,UAAC,IAAI;gBACH,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;oBACjB,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;oBACvB,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACnC,CAAC;YACH,CAAC,CAAC,CAAC;QACP,CAAC,CACF,CAAC;IACJ,CAAC;IAED,wCAAe,GAAf,UAAgB,UAAsB;QACpC,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;QACrD,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;QACzD,CAAC;IACH,CAAC;IAED,6CAAoB,GAApB;QACE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;IACpC,CAAC;IAED,+CAAsB,GAAtB;QACE,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;IAChD,CAAC;IAED,oCAAW,GAAX,UAAY,KAAa,EAAE,QAAgB;QACzC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,oEAAY,CAAC,aAAa,GAAC,+BAA+B,GAAG,KAAK,GAAG,gBAAgB,GAAG,QAAQ,GAAG,qBAAqB,CAAC;IAChJ,CAAC;IACH,qBAAC;AAAD,CAAC;AA5DY,cAAc;IAD1B,yEAAU,EAAE;yDAOkB,mFAAa,oBAAb,mFAAa,sDAA2B,+DAAO,oBAAP,+DAAO,sDAClD,2DAAI,oBAAJ,2DAAI;GAPnB,cAAc,CA4D1B;AA5D0B;;;;;;;;;;;;;;;;;;;;;;;;;ACRY;AACU;AACR;AACG;AAEK;AAGjD,IAAa,WAAW;IAOtB,qBAAoB,OAAgB,EAAU,QAAkB,EAAU,cAA8B;QAApF,YAAO,GAAP,OAAO,CAAS;QAAU,aAAQ,GAAR,QAAQ,CAAU;QAAU,mBAAc,GAAd,cAAc,CAAgB;QALhG,iBAAY,GAAG,YAAY,CAAC;QAC5B,oBAAe,GAAG,eAAe,CAAC;QAKxC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACtB,CAAC;IACD,8BAAQ,GAAR;QACE,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACtB,CAAC;IAED,mCAAa,GAAb;QAAA,iBAwBC;QAvBC,EAAE,EAAC,IAAI,CAAC,cAAc,CAAC,UAAU,IAAI,IAAI,IAAI,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,UAAU,IAAI,IAAI,CAAC,EAAC;YAC9F,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,GAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,IAAI,CAChF,UAAC,IAAI;gBACH,EAAE,EAAC,IAAI,IAAG,IAAI,CAAC,EAAC;oBACd,oBAAoB;oBACpB,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACxB,CAAC;YACH,CAAC,EACD,UAAC,KAAK;gBACJ,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACrB,CAAC,CACF;YACD,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,GAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,IAAI,CACnF,UAAC,IAAI;gBACH,EAAE,EAAC,IAAI,IAAG,IAAI,CAAC,EAAC;oBACd,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;gBAC3B,CAAC;YACH,CAAC,EACD,UAAC,KAAK;gBACJ,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACrB,CAAC,CACF;QACH,CAAC;IACH,CAAC;IAED,iCAAW,GAAX,UAAY,KAAa;QACvB,EAAE,EAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAE,CAAC;YAAC,MAAM,CAAC;QACnD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC9B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,kEAAQ,CAAC,KAAK,EAAE,EAAE,EAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,qBAAqB,CAAC,CAAC,CAAC,CAAC;QAC1G,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAED,oCAAc,GAAd;QACE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,GAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAChG,UAAC,IAAI;YACH,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;YAC7C,oBAAoB;QACtB,CAAC,EACD,UAAC,KAAK,IAAI,cAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAC7B;IACH,CAAC;IACD,sCAAgB,GAAhB;QACE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,GAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CACtG,UAAC,IAAI;YACH,OAAO,CAAC,GAAG,CAAC,kCAAkC,CAAC,CAAC;YAChD,oBAAoB;QACtB,CAAC,EACD,UAAC,KAAK,IAAI,cAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAC7B;IACH,CAAC;IACD,kCAAY,GAAZ;QACE,8BAA8B;QAC9B,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;IAChC,CAAC;IAED,6CAAuB,GAAvB;QACE,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,GAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;IACvF,CAAC;IAED,sCAAgB,GAAhB,UAAiB,OAAe,EAAE,IAAW;QAC3C,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAC/C,OAAO,CAAC,GAAG,CAAC,oBAAoB,GAAG,KAAK,CAAC,CAAC;QAC1C,OAAO,CAAC,GAAG,CAAC,4BAA4B,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;QAC9E,EAAE,EAAC,KAAK,IAAI,CAAC,CAAC,CAAC,EAAC;YACd,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YAC1B,IAAI,YAAY,GAAG,IAAI,CAAC,MAAM,GAAC,CAAC,CAAC;YACjC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,IAAI,kEAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,OAAO,EAAC,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC;YAClG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YAChC,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAC1B,CAAC;IACH,CAAC;IACD,uCAAiB,GAAjB,UAAkB,OAAe;QAC/B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACnC,CAAC;IAED,0CAAoB,GAApB,UAAqB,OAAe;QAClC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAC7B,GAAG,EAAa,UAAc,EAAd,SAAI,CAAC,SAAS,EAAd,cAAc,EAAd,IAAc;YAA1B,IAAI,IAAI;YACV,EAAE,EAAC,IAAI,CAAC,KAAK,IAAI,OAAO,CAAC,EAAC;gBACxB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,CAAC,CAAC,CAAC;YACxD,CAAC;SACF;QACD,GAAG,EAAY,UAAiB,EAAjB,SAAI,CAAC,YAAY,EAAjB,cAAiB,EAAjB,IAAiB;YAA5B,IAAI,GAAG;YACT,EAAE,EAAC,GAAG,IAAI,OAAO,CAAC,EAAC;gBACjB,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;YAC9D,CAAC;SACF;QACD,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IACH,kBAAC;AAAD,CAAC;AA7GY,WAAW;IADvB,yEAAU,EAAE;qCAQkB,+DAAO,EAAoB,iEAAQ,EAA0B,wEAAc;GAP7F,WAAW,CA6GvB;AA7GuB","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 111;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 111\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 152;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 152\n// module chunks = 0","import {Component} from '@angular/core';\nimport {ModalController, NavController} from 'ionic-angular';\nimport {ContactPickerPage} from \"../contact-picker/contact-picker\";\nimport {MessagePage} from \"../message/message\";\nimport {SettingsPage} from \"../settings/settings\";\nimport {ChatService} from \"../../services/chat-service\";\nimport {SettingService} from \"../../services/setting-service\";\n\n@Component({\n    selector: 'page-messages',\n    templateUrl: 'messages.html'\n})\nexport class MessagesPage {\n\n    private allChats;\n    private loading;\n    private subscriber;\n    private defaultDID;\n\n    constructor(public navCtrl: NavController, public modalCtrl: ModalController, private chatService: ChatService,\n                private settingServ: SettingService) {\n    }\n\n    ngOnDestroy() {\n        this.subscriber.unsubscribe();\n    }\n\n    ionViewWillEnter(): void {\n        if (this.settingServ.credential == null || this.settingServ.credential.defaultDID == null) {\n            this.settingServ.init();\n            this.loading = true;\n            this.subscriber = this.settingServ.credentialLoaded.subscribe(\n                (data) => {\n                    this.loadChats();\n                    this.loading = false;\n                    this.defaultDID = this.settingServ.credential.defaultDID;\n                }\n            );\n        } else {\n            this.loadChats();\n            this.defaultDID = this.settingServ.credential.defaultDID;\n        }\n    }\n\n    loadChats() {\n        this.chatService.getChatItemsFromStorage().then(\n            data => this.allChats = data,\n            error => console.log(error)\n        )\n    }\n\n    onOpenSettings() {\n        this.navCtrl.push(SettingsPage);\n    }\n\n    onNewMessage() {\n        let contactPickerModal = this.modalCtrl.create(ContactPickerPage);\n        contactPickerModal.present();\n        contactPickerModal.onDidDismiss(\n            data => {\n                if (data) {\n                    this.chatService.addChatItem(data.contact);\n                    this.allChats = this.chatService.getChatItems();\n                    this.navCtrl.push(MessagePage, data.contact);\n                }\n            }\n        )\n    }\n\n    delete(contact) {\n        this.chatService.deleteSMSFromStorage(contact);\n        for (let chat of this.allChats) {\n            if (chat.title == contact) {\n                this.allChats.splice(this.allChats.indexOf(chat), 1);\n            }\n        }\n    }\n\n    onOpenChat(contact) {\n        this.navCtrl.push(MessagePage, contact);\n    }\n\n    doRefresh(refresher) {\n        setTimeout(() => {\n\n            this.getAllDIDMessages(refresher);\n\n        }, 1000);\n    }\n\n    getAllDIDMessages(refresher){\n\n        this.chatService.getChatItems();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/messages/messages.ts","import { Component } from '@angular/core';\nimport {NavController, NavParams, ViewController} from 'ionic-angular';\nimport {NgForm} from \"@angular/forms\";\n\n@Component({\n  selector: 'page-contact-picker',\n  templateUrl: 'contact-picker.html',\n})\nexport class ContactPickerPage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController){\n  }\n\n  onSubmit(form: NgForm) {\n    this.viewCtrl.dismiss({contact: form.value.contact});\n  }\n\n  onCancel(){\n    this.viewCtrl.dismiss();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contact-picker/contact-picker.ts","import {Component, ViewChild} from '@angular/core';\nimport {Content, NavController, NavParams, Platform} from 'ionic-angular';\nimport {DatePipe} from \"@angular/common\"\nimport {SMS} from \"../../model/sms\";\nimport {NgForm} from \"@angular/forms\";\nimport {ChatService} from \"../../services/chat-service\";\nimport {VoipService} from \"../../services/voip-service\";\nimport {SettingService} from \"../../services/setting-service\";\n\n@Component({\n    selector: 'page-message',\n    templateUrl: 'message.html',\n})\nexport class MessagePage {\n    private contact: string;\n    private smss: SMS[];\n    private defaultDID;\n    @ViewChild(Content) content: Content;\n\n    constructor(public navCtrl: NavController, public navParams: NavParams, public datepipe: DatePipe, private chatService: ChatService,\n                private voipService: VoipService, private plt: Platform, private settingService: SettingService) {\n        this.contact = this.navParams.data;\n        this.chatService.loadChatItems();\n        this.defaultDID = this.settingService.credential.defaultDID;\n        this.chatService.getSMSFromStorage(this.contact).then(\n            (data) => {\n                if (data == null) this.smss = []\n                else\n                    this.smss = data;\n            },\n            (error) => {\n                console.log(error);\n            }\n        );\n        console.log(this.contact)\n    }\n\n    ionViewWillEnter(): void {\n        this.scrollToBottom();\n    }\n\n    scrollToBottom() {\n        setTimeout(() => {\n            this.content.scrollToBottom();\n        });\n    }\n\n    onSubmit(form: NgForm) {\n        console.log(form.value);\n        let newMsg = new SMS();\n        newMsg.message = form.value.message;\n        newMsg.date = \"Sending...\";\n        newMsg.type = \"0\";\n        let originalSMSs = this.smss.slice();\n        let lastMsg = this.smss[this.smss.length - 1];\n        let lastDateString = lastMsg.date;\n        if (this.plt.is('ios')) {\n            lastDateString = lastDateString.replace(' ', 'T')\n        }\n        let lastDate = Date.parse(lastDateString);\n        let dividerMsg = new SMS();\n        dividerMsg.message = this.datepipe.transform(Date.now(), 'yyyy-MM-dd HH:mm:ss');\n        ;\n        dividerMsg.date = this.datepipe.transform(Date.now(), 'yyyy-MM-dd HH:mm:ss');\n        dividerMsg.type = \"3\";\n        if (Date.now() - lastDate >= 360000) {\n            originalSMSs.push(dividerMsg);\n            this.smss.push(dividerMsg);\n        }\n        this.smss.push(newMsg);\n        this.scrollToBottom();\n        this.voipService.sendMessage(newMsg.message, this.contact).subscribe(\n            (res) => {\n                let data = res.json();\n                console.log(data);\n                this.voipService.getMessage(data.sms, this.contact, \"\").subscribe(\n                    (response) => {\n                        let data2 = response.json();\n                        if (data2.status == \"success\") {\n                            console.log(data2);\n                            originalSMSs.push(data2.sms[0]);\n                            this.smss = originalSMSs;\n                            this.chatService.saveSMStoStorage(this.contact, this.smss);\n                            this.scrollToBottom();\n                        }\n                    },\n                    (error) => {\n                        console.log(error);\n                        this.smss = originalSMSs;\n                    }\n                );\n            },\n            (error) => {\n                console.log(error);\n                this.smss = originalSMSs;\n            }\n        );\n        form.reset();\n    }\n\n    getAllTodayMsgs(refresher) {\n        this.voipService.getMessage(\"\", this.contact, \"\").subscribe(\n            (response) => {\n                let data = response.json();\n                if (data.status == \"success\") {\n                    console.log(data.sms);\n                    this.smss = data.sms.reverse();\n                    let dividerMsg = new SMS();\n                    dividerMsg.message = this.smss[this.smss.length - 1].message;\n                    dividerMsg.date = this.smss[this.smss.length - 1].date;\n                    dividerMsg.type = \"3\";\n                    this.smss.push(dividerMsg);\n                    this.chatService.saveSMStoStorage(this.contact, this.smss);\n                    this.scrollToBottom();\n                }\n                refresher.complete();\n            },\n            (error) => {\n                console.log(error);\n                refresher.complete();\n            }\n        );\n    }\n\n    getMessageAfterLastMessage(refresher) {\n        let dividerAdded = false;\n        let lastMsg = this.smss[this.smss.length - 1];\n\n        let lastDateString = lastMsg.date;\n        if (this.plt.is('ios')) {\n            lastDateString = lastDateString.replace(' ', 'T')\n        }\n        let lastDate = Date.parse(lastDateString);\n        this.voipService.getMessage(\"\", this.contact, lastMsg.date).subscribe(\n            (response) => {\n                let data = response.json();\n                if (data.status == \"success\") {\n                    console.log(data.sms);\n                    for (let msg of data.sms.reverse()) {\n                        let dateString = msg.date;\n                        if (this.plt.is('ios')) {\n                            dateString = dateString.replace(' ', 'T')\n                        }\n                        let msgDate = Date.parse(dateString);\n                        console.log(\"msg date =\" + msgDate + \" lastDate = \" + lastDate);\n                        if (msgDate >= lastDate && (lastMsg.message != msg.message || lastMsg.type != msg.type)) {\n                            if (!dividerAdded && msgDate - lastDate >= 360000) {\n                                let dividerMsg = new SMS();\n                                dividerMsg.message = msg.message;\n                                dividerMsg.date = this.datepipe.transform(Date.now(), 'yyyy-MM-dd HH:mm:ss');\n                                dividerMsg.type = \"3\";\n                                this.smss.push(dividerMsg);\n                                dividerAdded = true;\n                            }\n                            this.smss.push(msg);\n                        }\n                    }\n                    console.log(this.smss);\n                    this.chatService.saveSMStoStorage(this.contact, this.smss);\n                    this.scrollToBottom();\n                }\n                refresher.complete();\n            },\n            (error) => {\n                console.log(error);\n                refresher.complete();\n            }\n        );\n    }\n\n    doRefresh(refresher) {\n        setTimeout(() => {\n\n            if (this.smss.length == 0) {\n                this.getAllTodayMsgs(refresher);\n            } else {\n                this.getMessageAfterLastMessage(refresher);\n            }\n\n        }, 1000);\n\n\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/message/message.ts","export class ProxyService{\n  static VOIP_REST_URL: string =\"\" // \"https://voip.ms/\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/proxy-service.ts","import {Injectable} from \"@angular/core\";\nimport {Http} from \"@angular/http\";\nimport {SettingService} from \"./setting-service\";\nimport {ProxyService} from \"./proxy-service\";\n\n@Injectable()\nexport class VoipService {\n\n    constructor(private http: Http, private settingService: SettingService) {\n    }\n\n    reinit() {\n        if (this.settingService.credential == null || this.settingService.credential.defaultDID == null\n            || this.settingService.credential.defaultDID == \"\") {\n            this.settingService.init();\n        }\n    }\n\n    sendMessage(message: string, destination: string) {\n        this.reinit();\n        return this.http.get(ProxyService.VOIP_REST_URL + \"api/v1/rest.php?api_username=\" +\n            this.settingService.credential.email + \"&api_password=\" +\n            this.settingService.credential.password + \"&method=sendSMS\" +\n            \"&did=\" + this.settingService.credential.defaultDID +\n            \"&dst=\" + destination +\n            \"&message=\" + message);\n    }\n\n    getMessage(smsID: string, contactDID: string, lastDate: string) {\n        this.reinit();\n        return this.http.get(ProxyService.VOIP_REST_URL + \"api/v1/rest.php?api_username=\" +\n            this.settingService.credential.email + \"&api_password=\" +\n            this.settingService.credential.password + \"&method=getSMS\" + \"&did=\" + this.settingService.credential.defaultDID +\n            (contactDID == \"\" ? \"\" : \"&contact=\" + contactDID) +\n            (lastDate == \"\" ? \"\" : \"&from=\" + lastDate) +\n            (smsID == \"\" ? \"\" : \"&sms=\" + smsID));\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/voip-service.ts","import {Component} from '@angular/core';\nimport {AlertController, NavController, NavParams} from 'ionic-angular';\nimport {NgForm} from \"@angular/forms\";\nimport {SettingService} from \"../../services/setting-service\";\nimport {Credential} from \"../../model/credential\";\nimport {ChatService} from \"../../services/chat-service\";\n\n@Component({\n    selector: 'page-settings',\n    templateUrl: 'settings.html'\n})\nexport class SettingsPage {\n\n    private email: string = \"\";\n    private password: string = \"\";\n    private listOfDids: string[] = [];\n    private defaultDID: string;\n\n    private credential: Credential = new Credential(this.email, this.password, this.defaultDID, this.listOfDids);\n\n    constructor(public navCtrl: NavController, public navParams: NavParams, private settingService: SettingService, private chatServ: ChatService, private alertCtrl: AlertController) {\n        if (this.settingService.useUnsecuredStorage) {\n            this.settingService.getCrendetialUnsecured().then(\n                (data) => {\n                    if (data != null) {\n                        this.credential = data;\n                        this.email = this.credential.email;\n                        this.password = this.credential.password;\n                        this.listOfDids = this.credential.DIDs;\n                        this.defaultDID = this.credential.defaultDID;\n                    }\n\n                }\n            );\n        } else {\n            this.settingService.getCredentialSecured().then(\n                (data) => {\n                    if (data != null) {\n                        this.credential = JSON.parse(data);\n                        this.email = this.credential.email;\n                        this.password = this.credential.password;\n                        this.listOfDids = this.credential.DIDs;\n                        this.defaultDID = this.credential.defaultDID;\n                    }\n                }\n            );\n        }\n    }\n\n    onSubmit(form: NgForm) {\n        this.email = form.value.email;\n        this.password = form.value.password;\n        console.log(form);\n        this.settingService.refreshDIDs(this.email, this.password).subscribe(\n            (data) => {\n                console.log(JSON.stringify(data.json()))\n                if (data.json().status != 'success') {\n                    const alert = this.alertCtrl.create({\n                        title: 'Login Error',\n                        message: ' Server deined logon due to ' + data.json().status,\n                        buttons: [{\n                            text: 'Ok'\n                        }]\n                    });\n                    alert.present();\n                } else {\n                    this.listOfDids = [];\n                    for (let did of data.json().dids) {\n                        console.log(did);\n                        if (did.sms_available == 1 && did.sms_enabled == 1) {\n                            this.listOfDids.push(did.did);\n                        }\n                    }\n                    this.credential = new Credential(this.email, this.password, this.defaultDID, this.listOfDids);\n                    this.settingService.storeCredential(this.credential);\n                }\n\n            },\n            (error) => console.log(error)\n        );\n    }\n\n    onSelectDID(event) {\n        console.log(\"event is \" + event);\n        console.log(\"default is \" + this.defaultDID);\n        this.credential.defaultDID = this.defaultDID;\n        this.settingService.storeCredential(this.credential);\n        this.chatServ.loadChatItems();\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\n\nimport { MyApp } from './app.component';\nimport {MessagesPage} from \"../pages/messages/messages\";\nimport {ContactPickerPage} from \"../pages/contact-picker/contact-picker\";\nimport {MessagePage} from \"../pages/message/message\";\nimport {SecureStorage} from \"@ionic-native/secure-storage\";\nimport {SettingService} from \"../services/setting-service\";\nimport {SettingsPage} from \"../pages/settings/settings\";\nimport {HttpModule} from \"@angular/http\";\nimport {ChatService} from \"../services/chat-service\";\nimport {DatePipe} from \"@angular/common\";\nimport {Storage} from \"@ionic/storage\";\nimport {VoipService} from \"../services/voip-service\";\n\nexport function provideStorage() {\n  return new Storage(['sqlite', 'websql', 'indexeddb']);\n}\n\n@NgModule({\n  declarations: [\n    MyApp,\n    MessagesPage,\n    ContactPickerPage,\n    MessagePage,\n    SettingsPage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    HttpModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    MessagesPage,\n    ContactPickerPage,\n    MessagePage,\n    SettingsPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    {provide: Storage, useFactory: provideStorage },\n    SecureStorage,\n    SettingService,\n    HttpModule,\n    ChatService,\n    SettingService,\n    DatePipe,\n    VoipService\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import {Component} from '@angular/core';\nimport {Platform} from 'ionic-angular';\nimport {StatusBar} from '@ionic-native/status-bar';\nimport {SplashScreen} from '@ionic-native/splash-screen';\n\nimport {MessagesPage} from '../pages/messages/messages';\nimport {SettingService} from \"../services/setting-service\";\nimport {ChatService} from \"../services/chat-service\";\n\n@Component({\n    templateUrl: 'app.html'\n})\nexport class MyApp {\n    rootPage: any = MessagesPage;\n\n    constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen, private settingService: SettingService, private chatService: ChatService) {\n        platform.ready().then(() => {\n            // Okay, so the platform is ready and our plugins are available.\n            // Here you can do any higher level native things you might need.\n            statusBar.styleDefault();\n            splashScreen.hide();\n            this.settingService.init();\n            this.chatService.loadChatItems();\n        });\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","export class SMS{\n  public id: string;\n  public date: string;\n  public type: string;\n  public did: string;\n  public contact: string;\n  public message: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/sms.ts","export class ChatItem{\n  public title: string;\n  public message: string;\n  public date: string;\n\n  constructor(title: string, message: string, date: string){\n    this.title = title;\n    this.message = message;\n    this.date = date;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/chat-item.ts","export class Credential {\n  public email: string;\n  public password: string;\n  public defaultDID: string;\n  public DIDs: string[];\n\n  constructor(email: string, password: string, defaultDID: string, DIDs: string[]) {\n    this.email = email;\n    this.password = password;\n    this.defaultDID = defaultDID;\n    this.DIDs = DIDs;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/credential.ts","import {SecureStorage, SecureStorageObject} from \"@ionic-native/secure-storage\";\nimport {EventEmitter, Injectable} from \"@angular/core\";\nimport {Credential} from \"../model/credential\";\nimport {Storage} from \"@ionic/storage\";\nimport {Http} from \"@angular/http\";\nimport {ProxyService} from \"./proxy-service\";\n\n@Injectable()\nexport class SettingService {\n  public credential: Credential;\n  public useUnsecuredStorage: boolean = false;\n  public sso: SecureStorageObject;\n  public credentialLoaded = new EventEmitter();\n\n  constructor(private storage: SecureStorage, private unsecureStorage: Storage,\n              private http: Http) {\n  }\n\n  init() {\n    this.storage.create(\"settings\").then(\n      (sso: SecureStorageObject) => {\n        console.log(\"storage created\");\n        this.sso = sso;\n        this.getCredentialSecured().then(\n          (data) => {\n            if (data != null) {\n              this.credential = JSON.parse(data);\n              this.credentialLoaded.next(true);\n            }\n          },\n          (err)=>{\n            console.log(err);\n          });\n      },\n      (error) => {\n        console.log(error);\n        this.useUnsecuredStorage = true;\n        this.getCrendetialUnsecured().then(\n          (data) => {\n            if (data != null) {\n              this.credential = data;\n              this.credentialLoaded.next(true);\n            }\n          });\n      }\n    );\n  }\n\n  storeCredential(credential: Credential) {\n    this.credential = credential;\n    if (this.useUnsecuredStorage) {\n      this.unsecureStorage.set(\"credential\", credential);\n    } else {\n      this.sso.set(\"credential\", JSON.stringify(credential));\n    }\n  }\n\n  getCredentialSecured() {\n    return this.sso.get(\"credential\");\n  }\n\n  getCrendetialUnsecured() {\n    return this.unsecureStorage.get(\"credential\");\n  }\n\n  refreshDIDs(email: string, password: string) {\n    return this.http.get(ProxyService.VOIP_REST_URL+\"api/v1/rest.php?api_username=\" + email + \"&api_password=\" + password + \"&method=getDIDsInfo\")\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/setting-service.ts","import {Storage} from \"@ionic/storage\";\nimport {Injectable, OnInit} from \"@angular/core\";\nimport {DatePipe} from \"@angular/common\";\nimport {ChatItem} from \"../model/chat-item\";\nimport {SMS} from \"../model/sms\";\nimport {SettingService} from \"./setting-service\";\n\n@Injectable()\nexport class ChatService implements OnInit{\n\n  private CHATITEM_KEY = \"chatItems-\";\n  private PHONENUMBER_KEY = \"phoneNumbers-\";\n  private phoneNumbers: string[];\n  private chatItems: ChatItem[];\n\n  constructor(private storage: Storage, private datepipe: DatePipe, private settingService: SettingService) {\n    this.phoneNumbers = [];\n    this.chatItems = [];\n  }\n  ngOnInit() {\n    this.phoneNumbers = [];\n    this.chatItems = [];\n  }\n\n  loadChatItems(){\n    if(this.settingService.credential != null && this.settingService.credential.defaultDID != null){\n      this.storage.get(this.CHATITEM_KEY+this.settingService.credential.defaultDID).then(\n        (data)=>{\n          if(data !=null){\n            //console.log(data);\n            this.chatItems = data;\n          }\n        },\n        (error)=>{\n          console.log(error);\n        }\n      )\n      this.storage.get(this.PHONENUMBER_KEY+this.settingService.credential.defaultDID).then(\n        (data)=>{\n          if(data !=null){\n            this.phoneNumbers = data;\n          }\n        },\n        (error)=>{\n          console.log(error);\n        }\n      )\n    }\n  }\n\n  addChatItem(title: string){\n    if(this.phoneNumbers.indexOf(title) != -1 ) return;\n    this.phoneNumbers.push(title);\n    this.chatItems.push(new ChatItem(title, \"\",  this.datepipe.transform(Date.now(), 'yyyy-MM-dd HH:mm:ss')));\n    this.storeChatItems();\n    this.storePhoneNumber();\n  }\n\n  storeChatItems(){\n    this.storage.set(this.CHATITEM_KEY+this.settingService.credential.defaultDID, this.chatItems).then(\n      (data) => {\n        console.log(\"chat item stored successfully\");\n        //console.log(data);\n      },\n      (error)=> console.log(error)\n    )\n  }\n  storePhoneNumber(){\n    this.storage.set(this.PHONENUMBER_KEY+this.settingService.credential.defaultDID, this.phoneNumbers).then(\n      (data) => {\n        console.log(\"phone numebr stored successfully\");\n        //console.log(data);\n      },\n      (error)=> console.log(error)\n    )\n  }\n  getChatItems(){\n    //console.log(this.chatItems);\n    return this.chatItems.slice();\n  }\n\n  getChatItemsFromStorage(){\n    return this.storage.get(this.CHATITEM_KEY+this.settingService.credential.defaultDID);\n  }\n\n  saveSMStoStorage(contact: string, smss: SMS[]){\n    let index = this.phoneNumbers.indexOf(contact);\n    console.log(\"what is index ? = \" + index);\n    console.log(\"what is phonenumbers  ? = \" + JSON.stringify(this.phoneNumbers));\n    if(index != -1){\n      console.log(\"saving SMS\");\n      let lastIndexSMS = smss.length-1;\n      this.chatItems[index] = new ChatItem(contact, smss[lastIndexSMS].message,smss[lastIndexSMS].date);\n      this.storage.set(contact, smss);\n      this.storeChatItems();\n      this.storePhoneNumber();\n    }\n  }\n  getSMSFromStorage(contact: string){\n    return this.storage.get(contact);\n  }\n\n  deleteSMSFromStorage(contact: string){\n    this.storage.remove(contact);\n    for(let chat of this.chatItems){\n      if(chat.title == contact){\n        this.chatItems.splice(this.chatItems.indexOf(chat),1);\n      }\n    }\n    for(let num of this.phoneNumbers){\n      if(num == contact){\n        this.phoneNumbers.splice(this.phoneNumbers.indexOf(num), 1);\n      }\n    }\n    this.storePhoneNumber();\n    this.storeChatItems();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/chat-service.ts"],"sourceRoot":""}